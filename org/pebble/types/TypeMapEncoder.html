<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Mon May 04 14:28:34 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TypeMapEncoder (pebble-core 2.1.0 API)</title>
<meta name="date" content="2015-05-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TypeMapEncoder (pebble-core 2.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TypeMapEncoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/pebble/types/TypeMapDecoder.MappedTypeIterator.html" title="class in org.pebble.types"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/pebble/types/TypeMapEncoder.html" target="_top">Frames</a></li>
<li><a href="TypeMapEncoder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.pebble.types</div>
<h2 title="Class TypeMapEncoder" class="title">Class TypeMapEncoder&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/pebble/types/TypeIntEncoder.html" title="class in org.pebble.types">org.pebble.types.TypeIntEncoder</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>org.pebble.types.TypeMapEncoder&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - type supported by the encoder.</dd></dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../org/pebble/types/text/TextIntEncoder.html" title="class in org.pebble.types.text">TextIntEncoder</a>, <a href="../../../org/pebble/types/uuid/UUIDIntEncoder.html" title="class in org.pebble.types.uuid">UUIDIntEncoder</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">TypeMapEncoder&lt;T&gt;</span>
extends <a href="../../../org/pebble/types/TypeIntEncoder.html" title="class in org.pebble.types">TypeIntEncoder</a>&lt;T&gt;</pre>
<div class="block">Abstract class used to encode a list of a complex types into a list of integers that can be compressed by the core
 pebble functionality. This encoder writes into the output stream a generic encoding of the values that needs to be
 implemented on subclasses and then replaces its value by the list index of the encoding. This enable the compression
 of data types that cannot be transformed into integers and recovered back from its value or in cases where its
 transformation do not have good compression properties. This class defines the base for such kind of encoders,
 expanding the capabilities of pebble to compress complex data types.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../org/pebble/core/encoding/EncodingInfo.html" title="class in org.pebble.core.encoding">EncodingInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/pebble/types/TypeMapEncoder.html#encodingInfo">encodingInfo</a></strong></code>
<div class="block">Used to keep track of relevant encoding information.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../org/pebble/core/PebbleOffsetsStoreWriter.html" title="interface in org.pebble.core">PebbleOffsetsStoreWriter</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/pebble/types/TypeMapEncoder.html#offsetsStore">offsetsStore</a></strong></code>
<div class="block">Stores the current offset after each encoded element is stored.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../org/pebble/core/encoding/OutputBitStream.html" title="class in org.pebble.core.encoding">OutputBitStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/pebble/types/TypeMapEncoder.html#outputBitStream">outputBitStream</a></strong></code>
<div class="block">Output stream where a new encoded element will be written.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/pebble/types/TypeMapEncoder.html#TypeMapEncoder(int, org.pebble.core.encoding.OutputBitStream, org.pebble.core.PebbleOffsetsStoreWriter, org.pebble.core.encoding.EncodingInfo)">TypeMapEncoder</a></strong>(int&nbsp;referenceWindowSize,
              <a href="../../../org/pebble/core/encoding/OutputBitStream.html" title="class in org.pebble.core.encoding">OutputBitStream</a>&nbsp;outputBitStream,
              <a href="../../../org/pebble/core/PebbleOffsetsStoreWriter.html" title="interface in org.pebble.core">PebbleOffsetsStoreWriter</a>&nbsp;offsetsStore,
              <a href="../../../org/pebble/core/encoding/EncodingInfo.html" title="class in org.pebble.core.encoding">EncodingInfo</a>&nbsp;encodingInfo)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../org/pebble/types/TypeMapEncoder.html#encode(T)">encode</a></strong>(<a href="../../../org/pebble/types/TypeMapEncoder.html" title="type parameter in TypeMapEncoder">T</a>&nbsp;element)</code>
<div class="block">This methods keeps a map in memory of all elements that has been already encoded.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../org/pebble/types/TypeMapEncoder.html#write(T)">write</a></strong>(<a href="../../../org/pebble/types/TypeMapEncoder.html" title="type parameter in TypeMapEncoder">T</a>&nbsp;element)</code>
<div class="block">Writes encoded value of <code>element</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.pebble.types.TypeIntEncoder">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.pebble.types.<a href="../../../org/pebble/types/TypeIntEncoder.html" title="class in org.pebble.types">TypeIntEncoder</a></h3>
<code><a href="../../../org/pebble/types/TypeIntEncoder.html#setIntList(java.util.List, it.unimi.dsi.fastutil.ints.IntList)">setIntList</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="outputBitStream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputBitStream</h4>
<pre>protected final&nbsp;<a href="../../../org/pebble/core/encoding/OutputBitStream.html" title="class in org.pebble.core.encoding">OutputBitStream</a> outputBitStream</pre>
<div class="block">Output stream where a new encoded element will be written.</div>
</li>
</ul>
<a name="offsetsStore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offsetsStore</h4>
<pre>protected final&nbsp;<a href="../../../org/pebble/core/PebbleOffsetsStoreWriter.html" title="interface in org.pebble.core">PebbleOffsetsStoreWriter</a> offsetsStore</pre>
<div class="block">Stores the current offset after each encoded element is stored.</div>
</li>
</ul>
<a name="encodingInfo">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>encodingInfo</h4>
<pre>protected final&nbsp;<a href="../../../org/pebble/core/encoding/EncodingInfo.html" title="class in org.pebble.core.encoding">EncodingInfo</a> encodingInfo</pre>
<div class="block">Used to keep track of relevant encoding information.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TypeMapEncoder(int, org.pebble.core.encoding.OutputBitStream, org.pebble.core.PebbleOffsetsStoreWriter, org.pebble.core.encoding.EncodingInfo)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TypeMapEncoder</h4>
<pre>public&nbsp;TypeMapEncoder(int&nbsp;referenceWindowSize,
              <a href="../../../org/pebble/core/encoding/OutputBitStream.html" title="class in org.pebble.core.encoding">OutputBitStream</a>&nbsp;outputBitStream,
              <a href="../../../org/pebble/core/PebbleOffsetsStoreWriter.html" title="interface in org.pebble.core">PebbleOffsetsStoreWriter</a>&nbsp;offsetsStore,
              <a href="../../../org/pebble/core/encoding/EncodingInfo.html" title="class in org.pebble.core.encoding">EncodingInfo</a>&nbsp;encodingInfo)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>referenceWindowSize</code> - size of the maximum size of the list index between current list and its encoded value
                            list index.</dd><dd><code>outputBitStream</code> - output stream where a new encoded element will be written.</dd><dd><code>offsetsStore</code> - stores the current offset after each element is written.</dd><dd><code>encodingInfo</code> - encodingInfo used to keep track of relevant encoding information.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="encode(java.lang.Object)">
<!--   -->
</a><a name="encode(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encode</h4>
<pre>protected&nbsp;int&nbsp;encode(<a href="../../../org/pebble/types/TypeMapEncoder.html" title="type parameter in TypeMapEncoder">T</a>&nbsp;element)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This methods keeps a map in memory of all elements that has been already encoded. The maximum number of elements
 the map can hold is <code>referenceWindowSize</code>. This allows the control of the memory used by the encoder
 and also limits the length of the references used in the mapping. When the number of encoded elements is bigger
 than <code>referenceWindowSize</code>, elements with longest references in the map will by elements with shorter
 references.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/pebble/types/TypeIntEncoder.html#encode(T)">encode</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/pebble/types/TypeIntEncoder.html" title="class in org.pebble.types">TypeIntEncoder</a>&lt;<a href="../../../org/pebble/types/TypeMapEncoder.html" title="type parameter in TypeMapEncoder">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>element</code> - to be encoded to an integer.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>int</code> value of encoded <code>element</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case there is an exception storing the encoded element.</dd></dl>
</li>
</ul>
<a name="write(java.lang.Object)">
<!--   -->
</a><a name="write(T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>write</h4>
<pre>protected abstract&nbsp;int&nbsp;write(<a href="../../../org/pebble/types/TypeMapEncoder.html" title="type parameter in TypeMapEncoder">T</a>&nbsp;element)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes encoded value of <code>element</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>element</code> - to be written.</dd>
<dt><span class="strong">Returns:</span></dt><dd>numbers of bits used to write the encoded <code>element</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - when there is an exception writing <code>element</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TypeMapEncoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/pebble/types/TypeMapDecoder.MappedTypeIterator.html" title="class in org.pebble.types"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/pebble/types/TypeMapEncoder.html" target="_top">Frames</a></li>
<li><a href="TypeMapEncoder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
